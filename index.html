<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REIGN ¬∑ 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --noir: #0A0A0A;
            --charcoal: #1A1A1A;
            --graphite: #2A2A2A;
            --smoke: #8A8A8A;
            --pearl: #F5F5F0;
            --cream: #FAFAF8;
            --champagne: #B8A887;
            --gold: #9B8B6F;
            --green: #2D5016;
            --red: #8B2E2E;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #FAFAFA;
            color: var(--noir);
            line-height: 1.6;
            font-weight: 300;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .app-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        .masthead {
            text-align: center;
            padding: 80px 0 40px;
            border-bottom: 2px solid rgba(0, 0, 0, 0.08);
            margin-bottom: 40px;
        }

        .masthead .wordmark {
            font-family: 'DM Serif Display', serif;
            font-size: 3rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            color: var(--noir);
            margin-bottom: 16px;
            text-transform: uppercase;
        }

        .masthead .tagline {
            font-size: 0.75rem;
            letter-spacing: 0.2em;
            color: var(--smoke);
            text-transform: uppercase;
            font-weight: 400;
        }

        /* STREAK & SCORE DASHBOARD */
        .dashboard-hero {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .streak-card {
            background: white;
            border: 2px solid rgba(0, 0, 0, 0.1);
            padding: 40px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
        }

        .streak-number {
            font-family: 'DM Serif Display', serif;
            font-size: 4rem;
            color: var(--noir);
            margin-bottom: 8px;
            font-weight: 400;
        }

        .streak-label {
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--smoke);
            font-weight: 400;
        }

        .streak-fire {
            font-size: 3rem;
            margin-bottom: 16px;
            display: block;
        }

        .score-card {
            background: white;
            border: 2px solid rgba(0, 0, 0, 0.1);
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
        }

        .score-header {
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--smoke);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .score-display {
            display: flex;
            align-items: baseline;
            gap: 16px;
            margin-bottom: 24px;
        }

        .score-main {
            font-family: 'DM Serif Display', serif;
            font-size: 4rem;
            color: var(--noir);
            font-weight: 400;
        }

        .score-total {
            font-size: 1.5rem;
            color: var(--smoke);
        }

        .score-breakdown {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .score-item {
            font-size: 0.75rem;
            color: var(--charcoal);
            padding: 6px 12px;
            background: #FAFAFA;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .score-item.completed {
            background: var(--noir);
            color: white;
            border-color: var(--noir);
        }

        .weekly-trend {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(0, 0, 0, 0.08);
        }

        .weekly-trend-label {
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--smoke);
            margin-bottom: 12px;
        }

        .trend-bars {
            display: flex;
            gap: 8px;
            align-items: flex-end;
            height: 60px;
        }

        .trend-bar {
            flex: 1;
            background: rgba(0, 0, 0, 0.08);
            position: relative;
            min-width: 0;
        }

        .trend-bar-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: var(--noir);
            transition: height 0.3s ease;
        }

        .trend-bar-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.65rem;
            color: var(--smoke);
            white-space: nowrap;
        }

        /* NOTIFICATION BANNER */
        .notification-banner {
            background: linear-gradient(135deg, var(--gold), var(--champagne));
            color: var(--noir);
            padding: 16px 24px;
            margin-bottom: 40px;
            text-align: center;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            display: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .notification-banner.show {
            display: block;
        }

        .notification-banner button {
            background: var(--noir);
            color: white;
            border: none;
            padding: 8px 20px;
            margin-left: 16px;
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            cursor: pointer;
            font-weight: 500;
        }

        /* AFFIRMATION */
        .affirmation-container {
            padding: 50px 60px;
            text-align: center;
            max-width: 800px;
            margin: 0 auto 50px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
        }

        .affirmation-label {
            font-size: 0.65rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--gold);
            margin-bottom: 24px;
            font-weight: 500;
        }

        .affirmation-text {
            font-family: 'DM Serif Display', serif;
            font-size: 1.5rem;
            line-height: 1.7;
            color: var(--charcoal);
            font-style: italic;
            font-weight: 400;
        }

        /* NAV TABS */
        .nav-tabs {
            display: flex;
            gap: 8px;
            padding: 0 0 40px;
            justify-content: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 50px;
        }

        .nav-tab {
            padding: 14px 28px;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--smoke);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 400;
        }

        .nav-tab:hover {
            color: var(--charcoal);
            border-color: var(--gold);
        }

        .nav-tab.active {
            color: var(--noir);
            border-color: var(--noir);
            background: white;
            font-weight: 500;
        }

        .panel {
            display: none;
            padding: 0;
            animation: fadeInUp 0.5s ease;
        }

        .panel.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            margin-bottom: 70px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            padding: 50px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.03);
        }

        .section-title {
            font-family: 'DM Serif Display', serif;
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 32px;
            color: var(--noir);
            letter-spacing: 0.02em;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }

        .date-marker {
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--smoke);
            margin-bottom: 50px;
            text-align: center;
            font-weight: 400;
        }

        .habit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
        }

        .habit-card {
            aspect-ratio: 1;
            border: 2px solid rgba(0, 0, 0, 0.12);
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .habit-card:hover {
            border-color: var(--gold);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        .habit-card.completed {
            background: var(--noir);
            border-color: var(--noir);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .habit-card.completed .habit-icon {
            opacity: 0.6;
        }

        .habit-card.completed .habit-label {
            color: var(--pearl);
        }

        .habit-card.completed::after {
            content: '‚úì';
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 1rem;
            color: var(--gold);
        }

        .habit-icon {
            font-size: 1.8rem;
            transition: opacity 0.3s ease;
        }

        .habit-label {
            font-size: 0.75rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            font-weight: 400;
            text-align: center;
            color: var(--charcoal);
            transition: color 0.3s ease;
        }

        .journal-input {
            width: 100%;
            border: 2px solid rgba(0, 0, 0, 0.12);
            background: #FAFAFA;
            padding: 24px;
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            line-height: 1.8;
            min-height: 180px;
            resize: vertical;
            color: var(--charcoal);
            font-weight: 300;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        .journal-input:focus {
            outline: none;
            border-color: var(--gold);
            background: white;
            box-shadow: 0 0 0 3px rgba(155, 139, 111, 0.1);
        }

        .journal-input::placeholder {
            color: var(--smoke);
        }

        .btn-primary {
            background: var(--noir);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 400;
            margin-top: 20px;
            font-family: 'Inter', sans-serif;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-primary:hover {
            background: var(--charcoal);
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .month-selector {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .month-btn {
            padding: 10px 20px;
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            background: white;
            border: 2px solid rgba(0, 0, 0, 0.12);
            color: var(--charcoal);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 400;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        }

        .month-btn:hover {
            border-color: var(--gold);
        }

        .month-btn.active {
            background: var(--noir);
            color: white;
            border-color: var(--noir);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .input-field {
            width: 100%;
            border: 2px solid rgba(0, 0, 0, 0.12);
            background: #FAFAFA;
            padding: 14px 16px;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            color: var(--charcoal);
            font-weight: 300;
            transition: all 0.3s ease;
            margin-top: 8px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--gold);
            background: white;
            box-shadow: 0 0 0 3px rgba(155, 139, 111, 0.1);
        }

        .field-group {
            margin-bottom: 32px;
        }

        .field-label {
            font-size: 0.75rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--charcoal);
            font-weight: 500;
            margin-bottom: 8px;
        }

        .goal-block {
            background: white;
            border: 2px solid rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
        }

        .goal-title {
            font-family: 'DM Serif Display', serif;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--noir);
            font-weight: 400;
        }

        .progress-track {
            height: 6px;
            background: rgba(0, 0, 0, 0.06);
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .progress-fill {
            height: 100%;
            background: var(--noir);
            transition: width 0.6s ease;
        }

        .progress-label {
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--smoke);
            margin-top: 8px;
            font-weight: 400;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .stat-box {
            background: white;
            border: 2px solid rgba(0, 0, 0, 0.1);
            padding: 40px 32px;
            text-align: center;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
        }

        .stat-value {
            font-family: 'DM Serif Display', serif;
            font-size: 3rem;
            color: var(--noir);
            margin-bottom: 12px;
            font-weight: 400;
        }

        .stat-label {
            font-size: 0.7rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--smoke);
            font-weight: 400;
        }

        .instructions {
            max-width: 700px;
            margin: 0 auto;
        }

        .instructions h3 {
            font-family: 'DM Serif Display', serif;
            font-size: 1.2rem;
            margin: 40px 0 16px;
            color: var(--noir);
            font-weight: 400;
        }

        .instructions p {
            font-size: 0.9rem;
            line-height: 1.8;
            color: var(--charcoal);
            margin-bottom: 16px;
            font-weight: 300;
        }

        .instructions-highlight {
            background: #FAFAFA;
            border: 2px solid rgba(0, 0, 0, 0.08);
            border-left: 3px solid var(--gold);
            padding: 28px;
            margin: 24px 0;
        }

        .calendar-link {
            display: inline-block;
            background: var(--noir);
            color: white;
            padding: 12px 24px;
            margin: 8px;
            text-decoration: none;
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .calendar-link:hover {
            background: var(--charcoal);
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 40px 20px;
            }

            .masthead {
                padding: 60px 0 30px;
            }

            .masthead .wordmark {
                font-size: 2rem;
            }

            .dashboard-hero {
                grid-template-columns: 1fr;
            }

            .streak-number, .score-main {
                font-size: 3rem;
            }

            .affirmation-container {
                padding: 30px 25px;
            }

            .affirmation-text {
                font-size: 1.2rem;
            }

            .nav-tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                justify-content: flex-start;
                scrollbar-width: none;
            }

            .nav-tabs::-webkit-scrollbar {
                display: none;
            }

            .nav-tab {
                flex-shrink: 0;
            }

            .habit-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .section {
                padding: 30px 20px;
            }

            .btn-primary {
                width: 100%;
            }

            .trend-bars {
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="masthead">
            <h1 class="wordmark">REIGN</h1>
            <p class="tagline">Twenty Twenty-Six</p>
        </header>

        <!-- NOTIFICATION BANNER -->
        <div class="notification-banner" id="notificationBanner">
            <span id="notificationText"></span>
            <button onclick="enableNotifications()">Enable Reminders</button>
        </div>

        <!-- STREAK & SCORE DASHBOARD -->
        <div class="dashboard-hero">
            <div class="streak-card">
                <span class="streak-fire">üî•</span>
                <div class="streak-number" id="streakNumber">0</div>
                <div class="streak-label">Day Streak</div>
            </div>

            <div class="score-card">
                <div class="score-header">Today's Progress</div>
                <div class="score-display">
                    <div class="score-main" id="scoreMain">0</div>
                    <div class="score-total">/ 6</div>
                </div>
                <div class="score-breakdown" id="scoreBreakdown"></div>
                
                <div class="weekly-trend">
                    <div class="weekly-trend-label">This Week</div>
                    <div class="trend-bars" id="trendBars"></div>
                </div>
            </div>
        </div>

        <div class="affirmation-container">
            <div class="affirmation-label">Daily Affirmation</div>
            <p class="affirmation-text" id="affirmationText"></p>
        </div>

        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('daily')">Daily</button>
            <button class="nav-tab" onclick="switchTab('habits')">Habits</button>
            <button class="nav-tab" onclick="switchTab('monthly')">Monthly</button>
            <button class="nav-tab" onclick="switchTab('goals')">Goals</button>
            <button class="nav-tab" onclick="switchTab('stats')">Stats</button>
            <button class="nav-tab" onclick="switchTab('guide')">Guide</button>
        </nav>

        <!-- DAILY PANEL -->
        <div id="panel-daily" class="panel active">
            <div class="date-marker" id="dateMarker"></div>

            <div class="section">
                <h2 class="section-title">Morning Gratitude</h2>
                <textarea class="journal-input" id="gratitude" placeholder="What are you grateful for today?"></textarea>
                <button class="btn-primary" onclick="saveEntry('gratitude')">Save</button>
            </div>

            <div class="section">
                <h2 class="section-title">Daily Reflection</h2>
                <textarea class="journal-input" id="reflection" placeholder="What's on your mind today?"></textarea>
                <button class="btn-primary" onclick="saveEntry('reflection')">Save</button>
            </div>

            <div class="section">
                <h2 class="section-title">Today's Wins</h2>
                <textarea class="journal-input" id="wins" placeholder="What did you accomplish?"></textarea>
                <button class="btn-primary" onclick="saveEntry('wins')">Save</button>
            </div>
        </div>

        <!-- HABITS PANEL -->
        <div id="panel-habits" class="panel">
            <div class="date-marker" id="habitDate"></div>

            <div class="section">
                <h2 class="section-title">Daily Habits</h2>
                <div class="habit-grid">
                    <div class="habit-card" onclick="toggleHabit('steps')" id="habit-steps">
                        <div class="habit-icon">üëü</div>
                        <div class="habit-label">10k Steps</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('water')" id="habit-water">
                        <div class="habit-icon">üíß</div>
                        <div class="habit-label">3L Water</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('protein')" id="habit-protein">
                        <div class="habit-icon">ü•ó</div>
                        <div class="habit-label">120g Protein</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('workout')" id="habit-workout">
                        <div class="habit-icon">üí™</div>
                        <div class="habit-label">Workout</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('journal')" id="habit-journal">
                        <div class="habit-icon">üìù</div>
                        <div class="habit-label">Gratitude</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('work')" id="habit-work">
                        <div class="habit-icon">‚è±Ô∏è</div>
                        <div class="habit-label">Work 5hrs</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Weekly Rituals</h2>
                <div class="habit-grid">
                    <div class="habit-card" onclick="toggleHabit('yoga')" id="habit-yoga">
                        <div class="habit-icon">üßò‚Äç‚ôÄÔ∏è</div>
                        <div class="habit-label">Yoga</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('oilbath')" id="habit-oilbath">
                        <div class="habit-icon">üõÅ</div>
                        <div class="habit-label">Oil Bath</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('ailearn')" id="habit-ailearn">
                        <div class="habit-icon">ü§ñ</div>
                        <div class="habit-label">AI Learning</div>
                    </div>
                    <div class="habit-card" onclick="toggleHabit('newsletter')" id="habit-newsletter">
                        <div class="habit-icon">üì¨</div>
                        <div class="habit-label">Newsletter</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MONTHLY PANEL -->
        <div id="panel-monthly" class="panel">
            <div class="section">
                <h2 class="section-title">Monthly Review</h2>
                <div class="month-selector" id="monthSelector"></div>

                <div class="field-group">
                    <div class="field-label">Current Weight (kg)</div>
                    <input type="number" class="input-field" id="monthly-weight" step="0.1" placeholder="58.5">
                </div>

                <div class="field-group">
                    <div class="field-label">WBAA MRR ($)</div>
                    <input type="number" class="input-field" id="monthly-wbaa" placeholder="50000">
                </div>

                <div class="field-group">
                    <div class="field-label">WeConquer Revenue ($)</div>
                    <input type="number" class="input-field" id="monthly-weconquer" placeholder="50000">
                </div>

                <div class="field-group">
                    <div class="field-label">Total Followers</div>
                    <input type="number" class="input-field" id="monthly-followers" placeholder="50000">
                </div>

                <div class="field-group">
                    <div class="field-label">Speaking Engagements</div>
                    <input type="number" class="input-field" id="monthly-speaking" placeholder="2">
                </div>

                <div class="field-group">
                    <div class="field-label">Publications Featured</div>
                    <input type="number" class="input-field" id="monthly-publications" placeholder="1">
                </div>

                <div class="field-group">
                    <div class="field-label">Top Wins This Month</div>
                    <textarea class="journal-input" id="monthly-wins" placeholder="List your wins..."></textarea>
                </div>

                <div class="field-group">
                    <div class="field-label">Biggest Challenge</div>
                    <textarea class="journal-input" id="monthly-challenge" placeholder="What challenged you?"></textarea>
                </div>

                <div class="field-group">
                    <div class="field-label">Key Lesson</div>
                    <textarea class="journal-input" id="monthly-lesson" placeholder="What did you learn?"></textarea>
                </div>

                <div class="field-group">
                    <div class="field-label">Next Month Focus</div>
                    <input type="text" class="input-field" id="monthly-focus" placeholder="Your top priority">
                </div>

                <button class="btn-primary" onclick="saveMonthly()">Save Monthly Review</button>
            </div>
        </div>

        <!-- GOALS PANEL -->
        <div id="panel-goals" class="panel">
            <div class="section">
                <h2 class="section-title">2026 Progress</h2>

                <div class="goal-block">
                    <div class="goal-title">Weight: 60kg ‚Üí 55kg</div>
                    <input type="number" class="input-field" id="goal-weight" placeholder="Current weight" oninput="updateGoals()">
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-weight"></div>
                    </div>
                    <div class="progress-label" id="label-weight">0% Complete</div>
                </div>

                <div class="goal-block">
                    <div class="goal-title">WBAA: $100k MRR</div>
                    <input type="number" class="input-field" id="goal-wbaa" placeholder="Current MRR" oninput="updateGoals()">
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-wbaa"></div>
                    </div>
                    <div class="progress-label" id="label-wbaa">0% Complete</div>
                </div>

                <div class="goal-block">
                    <div class="goal-title">Followers: 200k Total</div>
                    <input type="number" class="input-field" id="goal-followers" placeholder="Current followers" oninput="updateGoals()">
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-followers"></div>
                    </div>
                    <div class="progress-label" id="label-followers">0% Complete</div>
                </div>

                <div class="goal-block">
                    <div class="goal-title">Speaking: 12 Engagements</div>
                    <input type="number" class="input-field" id="goal-speaking" placeholder="Completed" oninput="updateGoals()">
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-speaking"></div>
                    </div>
                    <div class="progress-label" id="label-speaking">0% Complete</div>
                </div>

                <div class="goal-block">
                    <div class="goal-title">Publications: 3+ Featured</div>
                    <input type="number" class="input-field" id="goal-publications" placeholder="Featured" oninput="updateGoals()">
                    <div class="progress-track">
                        <div class="progress-fill" id="progress-publications"></div>
                    </div>
                    <div class="progress-label" id="label-publications">0% Complete</div>
                </div>
            </div>
        </div>

        <!-- STATS PANEL -->
        <div id="panel-stats" class="panel">
            <div class="section">
                <h2 class="section-title">Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-value" id="stat-score">0%</div>
                        <div class="stat-label">Habit Score</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="stat-days">0</div>
                        <div class="stat-label">Days Journaled</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="stat-weight">‚Äî</div>
                        <div class="stat-label">Current Weight</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="stat-revenue">$0</div>
                        <div class="stat-label">Total Revenue</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- GUIDE PANEL -->
        <div id="panel-guide" class="panel">
            <div class="section instructions">
                <h2 class="section-title">How to Use</h2>

                <h3>üî• Streak System</h3>
                <p>Your streak tracks consecutive days of journaling. Write gratitude, reflection, or wins to keep your streak alive. The streak resets if you miss a day.</p>

                <h3>üìä Daily Score</h3>
                <p>Track your 6 daily habits. The score updates in real-time as you check off habits. Aim for 100% each day!</p>

                <h3>üîî Set Up Reminders</h3>
                <div class="instructions-highlight">
                    <p><strong>Option 1: Browser Notifications</strong><br>
                    Click "Enable Reminders" in the banner above to get push notifications even when the app is closed.</p>
                    
                    <p><strong>Option 2: Google Calendar (Email Reminders)</strong><br>
                    Click the links below to add automatic calendar events with email reminders:</p>
                    
                    <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Morning+Gratitude+%E2%98%80%EF%B8%8F&details=Open+your+REIGN+tracker+and+write+3+things+you%27re+grateful+for&dates=20260101T090000/20260101T091500&recur=RRULE:FREQ=DAILY" target="_blank" class="calendar-link">‚òÄÔ∏è Morning Gratitude (9am Daily)</a>
                    
                    <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Evening+Habit+Check+%F0%9F%8C%99&details=Open+your+REIGN+tracker+and+mark+off+today%27s+habits&dates=20260101T210000/20260101T211500&recur=RRULE:FREQ=DAILY" target="_blank" class="calendar-link">üåô Evening Check-In (9pm Daily)</a>
                    
                    <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Weekly+Review+%F0%9F%93%8B&details=Review+your+week+in+REIGN+tracker&dates=20260104T180000/20260104T183000&recur=RRULE:FREQ=WEEKLY;BYDAY=SU" target="_blank" class="calendar-link">üìã Weekly Review (Sunday 6pm)</a>
                </div>

                <h3>üíæ Data Storage</h3>
                <p>All entries save automatically in your browser. Your data stays private on your device. Note: Data does not sync between devices.</p>

                <h3>üì± Add to Home Screen</h3>
                <p><strong>iPhone:</strong> Safari ‚Üí Share ‚Üí Add to Home Screen<br>
                <strong>Android:</strong> Chrome ‚Üí Menu ‚Üí Add to Home screen</p>

                <h3>‚ú® Daily Routine</h3>
                <div class="instructions-highlight">
                    <p><strong>Morning:</strong> Read affirmation, write gratitude<br>
                    <strong>Throughout Day:</strong> Check off habits as you complete them<br>
                    <strong>Evening:</strong> Write reflection and wins, review your score</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // localStorage wrapper for window.storage API
        if (!window.storage) {
            window.storage = {
                async get(key) {
                    const value = localStorage.getItem(key);
                    return value ? { value: value } : null;
                },
                async set(key, value) {
                    localStorage.setItem(key, value);
                },
                async delete(key) {
                    localStorage.removeItem(key);
                },
                async list(prefix) {
                    const keys = [];
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key && key.startsWith(prefix)) {
                            keys.push(key);
                        }
                    }
                    return { keys: keys };
                }
            };
        }

        const affirmations = [
            "I am the architect of my empire.",
            "Money flows to me with ease and grace.",
            "I embody the queen I have manifested.",
            "My body is a temple of strength and vitality.",
            "I attract abundance by being myself.",
            "Today I choose progress over perfection.",
            "I trust divine timing while taking action.",
            "My success uplifts everyone around me.",
            "I am worthy of rest and luxury.",
            "I make space for miracles daily.",
            "Every challenge shapes my queendom.",
            "I am deeply loved and supported.",
            "My voice and presence matter.",
            "I lead with grace and confidence.",
            "Today I reign with intention.",
            "I am exactly where I need to be.",
            "My energy is magnetic and clear.",
            "I honor my needs and boundaries.",
            "Everything I touch transforms.",
            "I align more each day.",
            "My dreams are inevitable.",
            "I see abundance everywhere.",
            "I am grateful and excited.",
            "Today I embody unshakeable belief.",
            "I trust my decisions completely.",
            "My worth transcends productivity.",
            "I am a masterpiece in progress.",
            "The universe conspires for me.",
            "I surrender to divine flow.",
            "I am present, grateful, at peace.",
            "I make decisions that honor my soul."
        ];

        const today = new Date().toISOString().split('T')[0];
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        let selectedMonth = new Date().getMonth();
        let notificationPermission = false;

        function getDayOfYear() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 0);
            return Math.floor((now - start) / 86400000);
        }

        function displayAffirmation() {
            const index = getDayOfYear() % affirmations.length;
            document.getElementById('affirmationText').textContent = affirmations[index];
        }

        function updateDate() {
            const formatted = new Date().toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            document.getElementById('dateMarker').textContent = formatted;
            document.getElementById('habitDate').textContent = formatted;
        }

        // STREAK CALCULATION
        async function calculateStreak() {
            try {
                const result = await window.storage.list('gratitude-');
                const dates = result.keys.map(k => k.replace('gratitude-', '')).sort().reverse();
                
                if (dates.length === 0) {
                    document.getElementById('streakNumber').textContent = '0';
                    return;
                }

                let streak = 0;
                let checkDate = new Date();
                
                for (let i = 0; i < 365; i++) {
                    const dateStr = checkDate.toISOString().split('T')[0];
                    if (dates.includes(dateStr)) {
                        streak++;
                        checkDate.setDate(checkDate.getDate() - 1);
                    } else {
                        break;
                    }
                }
                
                document.getElementById('streakNumber').textContent = streak;
            } catch (e) {
                document.getElementById('streakNumber').textContent = '0';
            }
        }

        // DAILY SCORE
        async function updateDailyScore() {
            const habits = ['steps', 'water', 'protein', 'workout', 'journal', 'work'];
            const labels = ['10k Steps', '3L Water', '120g Protein', 'Workout', 'Gratitude', 'Work 5hrs'];
            let completed = 0;
            const breakdown = document.getElementById('scoreBreakdown');
            breakdown.innerHTML = '';
            
            for (let i = 0; i < habits.length; i++) {
                try {
                    const exists = await window.storage.get(`habit-${habits[i]}-${today}`);
                    const item = document.createElement('div');
                    item.className = 'score-item' + (exists ? ' completed' : '');
                    item.textContent = labels[i];
                    breakdown.appendChild(item);
                    if (exists) completed++;
                } catch (e) {
                    const item = document.createElement('div');
                    item.className = 'score-item';
                    item.textContent = labels[i];
                    breakdown.appendChild(item);
                }
            }
            
            document.getElementById('scoreMain').textContent = completed;
        }

        // WEEKLY TREND
        async function updateWeeklyTrend() {
            const container = document.getElementById('trendBars');
            container.innerHTML = '';
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                const habits = ['steps', 'water', 'protein', 'workout', 'journal', 'work'];
                let completed = 0;
                
                for (const habit of habits) {
                    try {
                        const exists = await window.storage.get(`habit-${habit}-${dateStr}`);
                        if (exists) completed++;
                    } catch (e) {}
                }
                
                const percentage = (completed / 6) * 100;
                const dayIndex = date.getDay();
                
                const bar = document.createElement('div');
                bar.className = 'trend-bar';
                bar.innerHTML = `
                    <div class="trend-bar-fill" style="height: ${percentage}%"></div>
                    <div class="trend-bar-label">${days[dayIndex]}</div>
                `;
                container.appendChild(bar);
            }
        }

        // NOTIFICATION BANNER
        function checkNotificationBanner() {
            const banner = document.getElementById('notificationBanner');
            const bannerText = document.getElementById('notificationText');
            
            if (!('Notification' in window)) {
                return;
            }
            
            if (Notification.permission === 'default') {
                bannerText.textContent = 'üîî Enable reminders to never miss your daily check-in';
                banner.classList.add('show');
            } else if (Notification.permission === 'granted') {
                banner.classList.remove('show');
                scheduleNotifications();
            }
        }

        async function enableNotifications() {
            if (!('Notification' in window)) {
                alert('Your browser does not support notifications. Please use Chrome, Safari, or Firefox.');
                return;
            }
            
            const permission = await Notification.requestPermission();
            if (permission === 'granted') {
                document.getElementById('notificationBanner').classList.remove('show');
                new Notification('REIGN Tracker', {
                    body: 'Reminders enabled! You\'ll get notifications for your daily check-ins.',
                    icon: 'üëë'
                });
                scheduleNotifications();
            }
        }

        function scheduleNotifications() {
            // Check if user hasn't logged today
            const now = new Date();
            const hour = now.getHours();
            
            // Morning reminder (9am)
            if (hour >= 9 && hour < 12) {
                checkAndNotify('gratitude', 'Time for morning gratitude ‚òÄÔ∏è', 'Start your day with what you\'re grateful for');
            }
            
            // Evening reminder (9pm)
            if (hour >= 21) {
                checkAndNotify('habits', 'Evening habit check-in üåô', 'Mark off your habits for today');
            }
        }

        async function checkAndNotify(type, title, body) {
            try {
                const exists = await window.storage.get(`${type}-${today}`);
                if (!exists && Notification.permission === 'granted') {
                    new Notification(title, { body: body, icon: 'üëë' });
                }
            } catch (e) {
                if (Notification.permission === 'granted') {
                    new Notification(title, { body: body, icon: 'üëë' });
                }
            }
        }

        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`panel-${tabName}`).classList.add('active');

            if (tabName === 'daily') loadDaily();
            if (tabName === 'habits') loadHabits();
            if (tabName === 'monthly') loadMonthly(selectedMonth);
            if (tabName === 'goals') loadGoals();
            if (tabName === 'stats') updateStats();
        }

        async function saveEntry(type) {
            const value = document.getElementById(type).value;
            if (!value.trim()) return alert('Please write something first');
            
            try {
                await window.storage.set(`${type}-${today}`, value);
                alert('Saved');
                document.getElementById(type).value = '';
                calculateStreak();
                updateDailyScore();
            } catch (e) {
                alert('Error saving');
            }
        }

        async function loadDaily() {
            try {
                ['gratitude', 'reflection', 'wins'].forEach(async (type) => {
                    const result = await window.storage.get(`${type}-${today}`);
                    if (result) document.getElementById(type).value = result.value;
                });
            } catch (e) {}
        }

        async function toggleHabit(name) {
            const card = document.getElementById(`habit-${name}`);
            const key = `habit-${name}-${today}`;
            
            try {
                const exists = await window.storage.get(key);
                if (exists) {
                    await window.storage.delete(key);
                    card.classList.remove('completed');
                } else {
                    await window.storage.set(key, 'true');
                    card.classList.add('completed');
                }
                updateDailyScore();
                updateWeeklyTrend();
            } catch (e) {
                await window.storage.set(key, 'true');
                card.classList.add('completed');
                updateDailyScore();
                updateWeeklyTrend();
            }
        }

        async function loadHabits() {
            const habits = ['steps', 'water', 'protein', 'workout', 'journal', 'work', 'yoga', 'oilbath', 'ailearn', 'newsletter'];
            for (const habit of habits) {
                const card = document.getElementById(`habit-${habit}`);
                try {
                    const exists = await window.storage.get(`habit-${habit}-${today}`);
                    if (exists) card.classList.add('completed');
                    else card.classList.remove('completed');
                } catch (e) {
                    card.classList.remove('completed');
                }
            }
        }

        function createMonthSelector() {
            const selector = document.getElementById('monthSelector');
            months.forEach((month, i) => {
                const btn = document.createElement('button');
                btn.className = 'month-btn' + (i === selectedMonth ? ' active' : '');
                btn.textContent = month;
                btn.onclick = () => selectMonth(i);
                selector.appendChild(btn);
            });
        }

        function selectMonth(i) {
            selectedMonth = i;
            document.querySelectorAll('.month-btn').forEach((btn, index) => {
                btn.classList.toggle('active', index === i);
            });
            loadMonthly(i);
        }

        async function saveMonthly() {
            const data = {
                weight: document.getElementById('monthly-weight').value,
                wbaa: document.getElementById('monthly-wbaa').value,
                weconquer: document.getElementById('monthly-weconquer').value,
                followers: document.getElementById('monthly-followers').value,
                speaking: document.getElementById('monthly-speaking').value,
                publications: document.getElementById('monthly-publications').value,
                wins: document.getElementById('monthly-wins').value,
                challenge: document.getElementById('monthly-challenge').value,
                lesson: document.getElementById('monthly-lesson').value,
                focus: document.getElementById('monthly-focus').value
            };
            try {
                await window.storage.set(`monthly-${selectedMonth}`, JSON.stringify(data));
                alert('Monthly review saved');
            } catch (e) {
                alert('Error saving');
            }
        }

        async function loadMonthly(month) {
            try {
                const result = await window.storage.get(`monthly-${month}`);
                if (!result) {
                    clearMonthly();
                    return;
                }
                const data = JSON.parse(result.value);
                document.getElementById('monthly-weight').value = data.weight || '';
                document.getElementById('monthly-wbaa').value = data.wbaa || '';
                document.getElementById('monthly-weconquer').value = data.weconquer || '';
                document.getElementById('monthly-followers').value = data.followers || '';
                document.getElementById('monthly-speaking').value = data.speaking || '';
                document.getElementById('monthly-publications').value = data.publications || '';
                document.getElementById('monthly-wins').value = data.wins || '';
                document.getElementById('monthly-challenge').value = data.challenge || '';
                document.getElementById('monthly-lesson').value = data.lesson || '';
                document.getElementById('monthly-focus').value = data.focus || '';
            } catch (e) {
                clearMonthly();
            }
        }

        function clearMonthly() {
            ['weight', 'wbaa', 'weconquer', 'followers', 'speaking', 'publications', 'wins', 'challenge', 'lesson', 'focus'].forEach(id => {
                document.getElementById(`monthly-${id}`).value = '';
            });
        }

        function updateGoals() {
            const weight = parseFloat(document.getElementById('goal-weight').value) || 60;
            const weightPct = Math.min(100, Math.max(0, ((60 - weight) / 5) * 100));
            updateProgress('weight', weightPct);

            const wbaa = parseFloat(document.getElementById('goal-wbaa').value) || 0;
            const wbaaPct = Math.min(100, (wbaa / 100000) * 100);
            updateProgress('wbaa', wbaaPct);

            const followers = parseFloat(document.getElementById('goal-followers').value) || 0;
            const followersPct = Math.min(100, (followers / 200000) * 100);
            updateProgress('followers', followersPct);

            const speaking = parseFloat(document.getElementById('goal-speaking').value) || 0;
            const speakingPct = Math.min(100, (speaking / 12) * 100);
            updateProgress('speaking', speakingPct);

            const publications = parseFloat(document.getElementById('goal-publications').value) || 0;
            const publicationsPct = Math.min(100, (publications / 3) * 100);
            updateProgress('publications', publicationsPct);

            saveGoals();
        }

        function updateProgress(name, pct) {
            document.getElementById(`progress-${name}`).style.width = pct + '%';
            document.getElementById(`label-${name}`).textContent = Math.round(pct) + '% Complete';
        }

        async function saveGoals() {
            const data = {
                weight: document.getElementById('goal-weight').value,
                wbaa: document.getElementById('goal-wbaa').value,
                followers: document.getElementById('goal-followers').value,
                speaking: document.getElementById('goal-speaking').value,
                publications: document.getElementById('goal-publications').value
            };
            try {
                await window.storage.set('goals-2026', JSON.stringify(data));
            } catch (e) {}
        }

        async function loadGoals() {
            try {
                const result = await window.storage.get('goals-2026');
                if (!result) return;
                const data = JSON.parse(result.value);
                document.getElementById('goal-weight').value = data.weight || '';
                document.getElementById('goal-wbaa').value = data.wbaa || '';
                document.getElementById('goal-followers').value = data.followers || '';
                document.getElementById('goal-speaking').value = data.speaking || '';
                document.getElementById('goal-publications').value = data.publications || '';
                updateGoals();
            } catch (e) {}
        }

        async function updateStats() {
            const habits = ['steps', 'water', 'protein', 'workout', 'journal', 'work'];
            let completed = 0;
            for (const h of habits) {
                try {
                    const exists = await window.storage.get(`habit-${h}-${today}`);
                    if (exists) completed++;
                } catch (e) {}
            }
            document.getElementById('stat-score').textContent = Math.round((completed / 6) * 100) + '%';

            try {
                const result = await window.storage.list('gratitude-');
                document.getElementById('stat-days').textContent = result.keys.length;
            } catch (e) {
                document.getElementById('stat-days').textContent = '0';
            }

            try {
                const goalData = await window.storage.get('goals-2026');
                if (goalData) {
                    const data = JSON.parse(goalData.value);
                    document.getElementById('stat-weight').textContent = data.weight ? data.weight + 'kg' : '‚Äî';
                }
            } catch (e) {}

            let revenue = 0;
            for (let i = 0; i < 12; i++) {
                try {
                    const result = await window.storage.get(`monthly-${i}`);
                    if (result) {
                        const data = JSON.parse(result.value);
                        revenue += (parseFloat(data.wbaa) || 0) + (parseFloat(data.weconquer) || 0);
                    }
                } catch (e) {}
            }
            document.getElementById('stat-revenue').textContent = '$' + revenue.toLocaleString();
        }

        // INITIALIZE
        displayAffirmation();
        updateDate();
        createMonthSelector();
        loadDaily();
        loadHabits();
        calculateStreak();
        updateDailyScore();
        updateWeeklyTrend();
        checkNotificationBanner();
        
        // Check for notifications periodically
        setInterval(checkNotificationBanner, 3600000); // Every hour
    </script>
</body>
</html>
